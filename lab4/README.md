# Dynamic Programming Portfolio Optimization

## Описание

Решение задачи оптимального управления инвестиционным портфелем с использованием метода динамического программирования. Портфель состоит из двух видов ценных бумаг и депозитов. Управление осуществляется на 3 этапах с учетом стохастических сценариев развития рынка.

## Результаты

- **Максимальный ожидаемый доход:** Результаты в [output/report.md](output/report.md)
- **Статистика:** Monte Carlo валидация (5000 симуляций)
- **Визуализация:** 10 типов графиков и диаграмм

## Содержание

- `output/report.md` - Полный отчет с графиками и анализом
- `output/diagrams/` - Все диаграммы и графики (PNG, 150 DPI)
- `output/data/` - CSV файлы с данными для воспроизводимости
- Исходный код в корневой директории

## Быстрый старт

### Установка зависимостей

\`\`\`bash
pip install -r requirements.txt
\`\`\`

### Запуск решения

\`\`\`bash
python main.py
\`\`\`

### Генерация полного отчета

\`\`\`bash
python generate_report.py
\`\`\`

## Структура проекта

\`\`\`
lab4/
├── constants.py              # Константы и настройки
├── models.py                 # Классы Portfolio, Scenario, Decision
├── data_loader.py            # Загрузка данных из Excel
├── solver.py                 # Решатель динамического программирования
├── path_recovery.py          # Восстановление оптимальной траектории
├── visualizers.py            # Расширенная визуализация (10 функций)
├── data_exporter.py          # Экспорт данных в CSV
├── sensitivity_analysis.py   # Анализ чувствительности
├── criteria_comparison.py     # Сравнение критериев принятия решений
├── generate_report.py        # Генерация Markdown отчета
├── main.py                   # Главный скрипт
├── test_commissions.py       # Тесты
├── requirements.txt          # Зависимости
└── output/                   # Результаты
    ├── report.md            # Полный отчет
    ├── diagrams/            # Графики (PNG)
    └── data/                # CSV данные
\`\`\`

## Особенности

- ✅ Полная реализация алгоритма динамического программирования
- ✅ Учет комиссий брокеров (опционально)
- ✅ Ограничения на минимальный объем активов (опционально)
- ✅ Monte Carlo валидация решения
- ✅ Анализ чувствительности к параметрам
- ✅ Сравнение различных критериев принятия решений
- ✅ Расширенная визуализация (10 типов графиков)
- ✅ Полный Markdown отчет с встроенными изображениями

## Настройки

Настройки можно изменить в файле `constants.py`:

- `USE_COMMISSIONS` - включить/выключить комиссии
- `USE_MIN_CONSTRAINTS` - включить/выключить ограничения на минимум
- `INITIAL_CASH` - начальная касса

## Документация

- [algorithm_pseudocode.md](algorithm_pseudocode.md) - Псевдокод алгоритма
- [class_diagram.md](class_diagram.md) - Диаграмма классов
- [examples.md](examples.md) - Демонстрационные примеры
- [output/report.md](output/report.md) - Полный отчет с результатами

## Лицензия

Лабораторная работа выполнена в рамках курса "Методы оптимизации".

---

*Дата создания: 2025-12-08*  
*Версия: 1.0*
